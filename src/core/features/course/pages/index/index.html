<!-- Aspire Course Page - Compact Modern Design -->
<ion-header class="aspire-header">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button [text]="''" />
        </ion-buttons>
        <ion-title *ngIf="course">
            <core-format-text [text]="title" contextLevel="course" [contextInstanceId]="course?.id" />
        </ion-title>
        <ion-buttons slot="end">
            @if (course?.format !== 'singleactivity') {
            <ion-button fill="clear" (click)="openCourseSummary()">
                <ion-icon name="information-circle-outline" slot="icon-only" />
            </ion-button>
            <core-context-menu />
            } @else {
            <core-context-menu>
                <core-context-menu-item [priority]="1" [content]="'core.course.coursesummary' | translate" (action)="openCourseSummary()"
                    iconAction="fas-graduation-cap" />
            </core-context-menu>
            }
        </ion-buttons>
    </ion-toolbar>

    <!-- Compact Tab Bar -->
    <div class="tab-bar">
        <ng-container *ngFor="let tab of tabs; let i = index">
            <button class="tab-item" [class.active]="tabsComponent?.selectedIndex === i"
                (click)="tabsComponent?.selectByIndex(i)">
                <ion-icon [name]="getTabIcon(tab)"></ion-icon>
                <span>{{ tab.title | translate }}</span>
            </button>
        </ng-container>
    </div>
</ion-header>

<!-- Progress Strip (only if has progress) -->
<div class="progress-strip" *ngIf="progress !== undefined && progress > 0">
    <div class="progress-fill" [style.width.%]="progress"></div>
    <span class="progress-text">{{ progress }}%</span>
</div>

<core-tabs-outlet [tabs]="tabs" [hideUntil]="loaded" (ionChange)="tabSelected()" />
