<ion-content>
    <ion-refresher slot="fixed" [disabled]="!dataLoaded"
        (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingText="{{ 'core.pulltorefresh' | translate }}"></ion-refresher-content>
    </ion-refresher>
    <!-- @todo  <core-block-course-blocks [courseId]="siteHomeId" [downloadEnabled]="downloadEnabled">-->
        <core-loading [hideUntil]="dataLoaded">
                <ion-list>
                    <!-- Site home main contents. -->
                    <!-- @todo <ng-container *ngIf="section && section.hasContent">
                        <ion-item class="ion-text-wrap" *ngIf="section.summary">
                            <core-format-text [text]="section.summary" contextLevel="course" [contextInstanceId]="siteHomeId"></core-format-text>
                        </ion-item>

                        <core-course-module *ngFor="let module of section.modules" [module]="module" [courseId]="siteHomeId" [downloadEnabled]="downloadEnabled" [section]="section"></core-course-module>
                    </ng-container> -->

                    <!-- Site home items: news, categories, courses, etc. -->
                    <ng-container *ngIf="items.length > 0">
                        <ion-item-divider *ngIf="section && section!.hasContent"></ion-item-divider>
                        <ng-container *ngFor="let item of items">
                            <ng-container [ngSwitch]="item">
                                <ng-container *ngSwitchCase="'LIST_OF_COURSE'">
                                    <ng-template *ngTemplateOutlet="allCourseList"></ng-template>
                                </ng-container>
                                <ng-container *ngSwitchCase="'LIST_OF_CATEGORIES'">
                                    <ng-template *ngTemplateOutlet="categories"></ng-template>
                                </ng-container>
                                <ng-container *ngSwitchCase="'COURSE_SEARCH_BOX'">
                                    <ng-template *ngTemplateOutlet="courseSearch"></ng-template>
                                </ng-container>
                                <ng-container *ngSwitchCase="'ENROLLED_COURSES'">
                                    <ng-template *ngTemplateOutlet="enrolledCourseList"></ng-template>
                                </ng-container>
                                <ng-container *ngSwitchCase="'NEWS_ITEMS'">
                                    <ng-template *ngTemplateOutlet="news"></ng-template>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                    </ng-container>
                </ion-list>
            <core-empty-box *ngIf="!hasContent" icon="qr-scanner" [message]="'core.course.nocontentavailable' | translate">

            </core-empty-box>
        </core-loading>
    <!-- @todo </core-block-course-blocks> -->
</ion-content>

<ng-template #allCourseList>
    <ion-item button class="ion-text-wrap" router-direction="forward" routerLink="/courses/all" detail>
        <ion-icon name="fas-graduation-cap" fixed-width slot="start"></ion-icon>
        <ion-label>
            <h2>{{ 'core.courses.availablecourses' | translate}}</h2>
        </ion-label>
    </ion-item>
</ng-template>

<ng-template #news>
    <ion-item>
        <ion-label>News (TODO)</ion-label>
    </ion-item>
    <!-- @todo <core-course-module class="core-sitehome-news" *ngIf="show" [module]="module" [courseId]="siteHomeId"></core-course-module> -->
</ng-template>

<ng-template #categories>
    <ion-item button class="ion-text-wrap" router-direction="forward" routerLink="/courses/categories" detail>
        <ion-icon name="folder" slot="start"></ion-icon>
        <ion-label>
            <h2>{{ 'core.courses.categories' | translate}}</h2>
        </ion-label>
    </ion-item>
</ng-template>

<ng-template #enrolledCourseList>
    <ion-item button class="ion-text-wrap" router-direction="forward" routerLink="/courses/my" detail>
        <ion-icon name="fa-graduation-cap" fixed-width slot="start">
        </ion-icon>
        <ion-label><h2>{{ 'core.courses.mycourses' | translate}}</h2></ion-label>
    </ion-item>
</ng-template>

<ng-template #courseSearch>
    <ion-item button class="ion-text-wrap" router-direction="forward" routerLink="/courses/search" detail>
        <ion-icon name="search" slot="start"></ion-icon>
        <ion-label><h2>{{ 'core.courses.searchcourses' | translate}}</h2></ion-label>
    </ion-item>
</ng-template>
